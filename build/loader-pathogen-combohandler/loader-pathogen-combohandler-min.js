YUI.add("loader-pathogen-combohandler",function(h,o){var g,u,c="+",a=/-(min|debug).js/,l=/\.(?:js|css)$/,p=/^(?:yui:)?gallery-([^\/]+)/,i={js:!0,css:!0};h.mix(h.Loader.prototype,{_pathogenEncodeComboSources:function(o){var e,t,r,n,s=this.combine;if(!s)for(r in this.groups)if(this.groups.hasOwnProperty(r)&&!s&&r.combine){s=r.combine;break}if((u=h.config.customComboBase?h.config.customComboBase:u)&&s)for(n in this.maxURLLength,i)i.hasOwnProperty(n)&&(t=(e=n)+"Mods",o[e]=o[e]||[],o[t]=t=o[t]||[],t=this._customResolve(t,n),o[n]=o[n].concat(t));return o},_customResolve:function(o,e){var t,r,n,o=this._aggregateGroups(o),s=this._sortAggregatedGroups(o),i=[];for(r||(r=(o=a.exec(h.config.loaderPath))&&o[1]||"raw",t=(t="min"===(r="css"===e&&"debug"===r?"raw":"min")?"":"."+r)+"."+e),n=this._buildCombo(s,u,t);n;)i.push(n),n=this._buildCombo(s,u,t);return i},_aggregateGroups:function(o){for(var e,t,r,n,s,i={},h=0,u=o.length;h<u;h+=1){if(r=(n=o[h]).name,t=this.groups&&this.groups[n.group]){if(!t.combine||n.fullpath)continue}else if(!this.combine)continue;!n.combine&&n.ext||(i[s=n.group?"gallery"===n.group?(g||(e=p.exec(this.groups.gallery.root),g=e&&e[1]),r=r.split("gallery-").pop(),"g+"+g):0===n.path.indexOf(r+"/"+r)?"r+"+(s="/"===(s="/"===(s=t.root).charAt(0)?s.slice(1):s).charAt(s.length-1)?s.slice(0,-1):s):(r=n.path.split(l).shift(),"path+"+(r="/"===(r=t&&t.root?t.root+r:r).charAt(0)?r.slice(1):r)):"c+"+YUI.version]=i[s]||[],i[s].push(r))}return i},_buildCombo:function(o,e,t){for(var r,n,s,i,h,u=e,g=e.length+t.length,a=0,l=o.length;a<l;a+=1)for(r=u===e?"":";",n=(h=o[a]).key,s=h.modules;s.length;){if(i=(i=r+n)?i+c:",",!(g+(i=(i=0===h.key.indexOf("path")?r:i)+s[0]).length<this.maxURLLength))return u+t;u+=i,g+=i.length,s.shift(),r=n=""}return u=(u+=t).length===e.length+t.length?null:u},_sortAggregatedGroups:function(o){var e,t,r,n=[];for(e in o)o.hasOwnProperty(e)&&n.push({key:e,modules:o[e]});for(n.sort(function(o,e){return o.key<e.key?-1:o.key>e.key?1:0}),r=0,t=n.length;r<t;r+=1)n[r].modules.sort();return n}},!0)},"@VERSION@");