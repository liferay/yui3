YUI.add("transition",function(h,t){var y,g,v,m,N,i,n="",e="",o=h.config.doc,r="documentElement",s=o[r].style,a="transition",u="transitionProperty",d={},l=["Webkit","Moz"],f={Webkit:"webkitTransitionEnd"},T=function(){this.init.apply(this,arguments)};T._TRANSFORM="transform",T._toCamel=function(t){return t=t.replace(/-([a-z])/gi,function(t,n){return n.toUpperCase()})},T._toHyphen=function(t){return t=t.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(t,n,e,i){e=(n?"-"+n.toLowerCase():"")+e;return i&&(e+="-"+i.toLowerCase()),e})},T.SHOW_TRANSITION="fadeIn",T.HIDE_TRANSITION="fadeOut",T.useNative=!1,"transition"in s&&"transitionProperty"in s&&"transitionDuration"in s&&"transitionTimingFunction"in s&&"transitionDelay"in s?(T.useNative=!0,T.supported=!0):h.Array.each(l,function(t){t+"Transition"in o[r].style&&(n=t,e=T._toHyphen(t)+"-",T.useNative=!0,T.supported=!0,T._VENDOR_PREFIX=t)}),"undefined"==typeof s.transform&&h.Array.each(l,function(t){t+="Transform";"undefined"!=typeof s[t]&&(T._TRANSFORM=t)}),n&&(a=n+"Transition",u=n+"TransitionProperty"),y=e+"transition-property",g=e+"transition-duration",v=e+"transition-timing-function",m=e+"transition-delay",N="transitionend",n.toLowerCase(),N=f[n]||N,T.fx={},T.toggles={},T._hasEnd={},T._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,h.Node.DOM_EVENTS[N]=1,T.NAME="transition",T.DEFAULT_EASING="ease",T.DEFAULT_DURATION=.5,T.DEFAULT_DELAY=0,T._nodeAttrs={},T.prototype={constructor:T,init:function(t,n){var e=this;return e._node=t,!e._running&&n&&(e._config=n,(t._transition=e)._duration="duration"in n?n.duration:e.constructor.DEFAULT_DURATION,e._delay="delay"in n?n.delay:e.constructor.DEFAULT_DELAY,e._easing=n.easing||e.constructor.DEFAULT_EASING,e._count=0,e._running=!1),e},addProperty:function(t,n){var e,i,o=this,r=this._node,s=h.stamp(r),a=h.one(r),u=T._nodeAttrs[s],s=(u=u||(T._nodeAttrs[s]={}))[t];n&&n.value!==undefined?i=n.value:n!==undefined&&(i=n,n=d),"function"==typeof i&&(i=i.call(a,a)),s&&s.transition&&s.transition!==o&&s.transition._count--,o._count++,e=("undefined"!=typeof n.duration?n.duration:o._duration)||1e-4,u[t]={value:i,duration:e,delay:"undefined"!=typeof n.delay?n.delay:o._delay,easing:n.easing||o._easing,transition:o},n=h.DOM.getComputedStyle(r,t),n="string"==typeof i?n:parseFloat(n),T.useNative&&n===i&&setTimeout(function(){o._onNativeEnd.call(r,{propertyName:t,elapsedTime:e})},1e3*e)},removeProperty:function(t){var n=T._nodeAttrs[h.stamp(this._node)];n&&n[t]&&(delete n[t],this._count--)},initAttrs:function(t){var n,e=this._node;for(n in t.transform&&!t[T._TRANSFORM]&&(t[T._TRANSFORM]=t.transform,delete t.transform),t)t.hasOwnProperty(n)&&!T._reKeywords.test(n)&&(this.addProperty(n,t[n]),""===e.style[n]&&h.DOM.setStyle(e,n,h.DOM.getComputedStyle(e,n)))},run:function(t){var n=this,e=n._node,i=n._config,o={type:"transition:start",config:i};return n._running||(n._running=!0,i.on&&i.on.start&&i.on.start.call(h.one(e),o),n.initAttrs(n._config),n._callback=t,n._start()),n},_start:function(){this._runNative()},_prepDur:function(t){return(t=1e3*parseFloat(t))+"ms"},_runNative:function(){var t,n,e,i=this,o=i._node,r=h.stamp(o),s=o.style,a=o.ownerDocument.defaultView.getComputedStyle(o),u=T._nodeAttrs[r],d="",l=a[T._toCamel(y)],f=y+": ",_=g+": ",p=v+": ",c=m+": ";for(e in"all"!==l&&(f+=l+",",_+=a[T._toCamel(g)]+",",p+=a[T._toCamel(v)]+",",c+=a[T._toCamel(m)]+","),u)t=T._toHyphen(e),u[e],(n=u[e])&&n.transition===i&&(e in o.style?(_+=i._prepDur(n.duration)+",",c+=i._prepDur(n.delay)+",",p+=n.easing+",",f+=t+",",d+=t+": "+n.value+"; "):this.removeProperty(e));f=f.replace(/,$/,";"),_=_.replace(/,$/,";"),p=p.replace(/,$/,";"),c=c.replace(/,$/,";"),T._hasEnd[r]||(o.addEventListener(N,i._onNativeEnd,""),T._hasEnd[r]=!0),s.cssText+=f+_+p+c+d},_end:function(t){var n=this,e=n._node,i=n._callback,o=n._config,r={type:"transition:end",config:o,elapsedTime:t},s=h.one(e);n._running=!1,n._callback=null,e&&(o.on&&o.on.end?setTimeout(function(){o.on.end.call(s,r),i&&i.call(s,r)},1):i&&setTimeout(function(){i.call(s,r)},1))},_endNative:function(t){var n=this._node,e=n.ownerDocument.defaultView.getComputedStyle(n,"")[T._toCamel(y)];t=T._toHyphen(t),"string"==typeof e&&(e=(e=e.replace(new RegExp("(?:^|,\\s)"+t+",?"),",")).replace(/^,|,$/,""),n.style[a]=e)},_onNativeEnd:function(t){var n=h.stamp(this),e=t,i=T._toCamel(e.propertyName),t=e.elapsedTime,e=T._nodeAttrs[n][i],n=e?e.transition:null;n&&(n.removeProperty(i),n._endNative(i),i={type:"propertyEnd",propertyName:i,elapsedTime:t,config:e=n._config[i]},e&&e.on&&e.on.end&&e.on.end.call(h.one(this),i),n._count<=0&&(n._end(t),this.style[u]=""))},destroy:function(){var t=this._node;t&&(t.removeEventListener(N,this._onNativeEnd,!1),this._node=null)}},h.Transition=T,h.TransitionNative=T,h.Node.prototype.transition=function(t,n,e){var i,o,r=T._nodeAttrs[h.stamp(this._node)],r=r&&r.transition||null;if("string"==typeof t)if("function"==typeof n&&(e=n,n=null),i=T.fx[t],n&&"object"==typeof n)for(o in n=h.clone(n),i)i.hasOwnProperty(o)&&(o in n||(n[o]=i[o]));else n=i;else e=n,n=t;return r&&!r._running?r.init(this,n):r=new T(this._node,n),r.run(e),this},h.Node.prototype.show=function(t,n,e){return this._show(),t&&h.Transition&&("string"==typeof t||t.push||("function"==typeof n&&(e=n,n=t),t=T.SHOW_TRANSITION),this.transition(t,n,e)),this},h.NodeList.prototype.show=function(t,n,e){for(var i,o=this._nodes,r=0;i=o[r++];)h.one(i).show(t,n,e);return this},i=function(t,n,e){return function(){n&&n.call(t),e&&"function"==typeof e&&e.apply(t._node,arguments)}},h.Node.prototype.hide=function(t,n,e){return t&&h.Transition?("function"==typeof n&&(e=n,n=null),e=i(this,this._hide,e),"string"==typeof t||t.push||("function"==typeof n&&(e=n,n=t),t=T.HIDE_TRANSITION),this.transition(t,n,e)):this._hide(),this},h.NodeList.prototype.hide=function(t,n,e){for(var i,o=this._nodes,r=0;i=o[r++];)h.one(i).hide(t,n,e);return this},h.NodeList.prototype.transition=function(t,n,e){for(var i,o=this._nodes,r=this.size(),s=0,
e=!0===e;i=o[s++];)s<r&&e?h.one(i).transition(t):h.one(i).transition(t,n);return this},h.Node.prototype.toggleView=function(t,n,e){if(this._toggles=this._toggles||[],e=arguments[arguments.length-1],"string"==typeof t)return(n=(n=void 0===(n="function"==typeof n?undefined:n)&&t in this._toggles?!this._toggles[t]:n)?1:0)?this._show():e=i(this,this._hide,e),this._toggles[t]=n,this.transition(h.Transition.toggles[t][n],e),this;this._toggleView(n=t,e)},h.NodeList.prototype.toggleView=function(t,n,e){for(var i,o=this._nodes,r=0;i=o[r++];)(i=h.one(i)).toggleView.apply(i,arguments);return this},h.mix(T.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(t){return t.get("scrollHeight")+"px"},width:function(t){return t.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var t=this.getStyle("overflow");"hidden"!==t&&(this.setStyle("overflow","hidden"),this._transitionOverflow=t)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),h.mix(T.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"@VERSION@",{requires:["node-style"]});