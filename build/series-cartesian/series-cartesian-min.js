YUI.add("series-cartesian",function(r,t){var g=r.Lang;r.CartesianSeries=r.Base.create("cartesianSeries",r.SeriesBase,[],{_xDisplayName:null,_yDisplayName:null,_leftOrigin:null,_bottomOrigin:null,addListeners:function(){var t=this.get("xAxis"),e=this.get("yAxis");t&&(this._xDataReadyHandle=t.after("dataReady",r.bind(this._xDataChangeHandler,this)),this._xDataUpdateHandle=t.after("dataUpdate",r.bind(this._xDataChangeHandler,this))),e&&(this._yDataReadyHandle=e.after("dataReady",r.bind(this._yDataChangeHandler,this)),this._yDataUpdateHandle=e.after("dataUpdate",r.bind(this._yDataChangeHandler,this))),this._xAxisChangeHandle=this.after("xAxisChange",this._xAxisChangeHandler),this._yAxisChangeHandle=this.after("yAxisChange",this._yAxisChangeHandler),this._stylesChangeHandle=this.after("stylesChange",function(){this._updateAxisBase()&&this.draw()}),this._widthChangeHandle=this.after("widthChange",function(){this._updateAxisBase()&&this.draw()}),this._heightChangeHandle=this.after("heightChange",function(){this._updateAxisBase()&&this.draw()}),this._visibleChangeHandle=this.after("visibleChange",this._handleVisibleChange)},_xAxisChangeHandler:function(){var t=this.get("xAxis");t.after("dataReady",r.bind(this._xDataChangeHandler,this)),t.after("dataUpdate",r.bind(this._xDataChangeHandler,this))},_yAxisChangeHandler:function(){var t=this.get("yAxis");t.after("dataReady",r.bind(this._yDataChangeHandler,this)),t.after("dataUpdate",r.bind(this._yDataChangeHandler,this))},GUID:"yuicartesianseries",_xDataChangeHandler:function(){this._updateAxisBase()&&this.draw()},_yDataChangeHandler:function(){this._updateAxisBase()&&this.draw()},_updateAxisBase:function(){var t,e=this.get("xAxis"),a=this.get("yAxis"),i=this.get("xKey"),s=this.get("yKey");return e&&a&&i&&s?(e=e.getDataByKey(i),a=a.getDataByKey(s),i=g.isArray(i)?!!(e&&0<r.Object.size(e))&&this._checkForDataByKey(e,i):!!e,s=g.isArray(s)?!!(a&&0<r.Object.size(a))&&this._checkForDataByKey(a,s):!!a,(t=i&&s)&&(this.set("xData",e),this.set("yData",a))):t=!1,t},_checkForDataByKey:function(t,e){for(var a=e.length,i=!1,s=0;s<a;s+=1)if(t[e[s]]){i=!0;break}return i},validate:function(){this.get("xData")&&this.get("yData")||this._updateAxisBase()?this.draw():this.fire("drawingComplete")},setAreaData:function(){var t=this.get("width"),e=this.get("height"),a=this.get("xAxis"),i=this.get("yAxis"),s=this._copyData(this.get("xData")),r=this._copyData(this.get("yData")),n=("vertical"===this.get("direction")?r:s).length,h=a.getEdgeOffset(a.getTotalMajorUnits(),t),d=i.getEdgeOffset(i.getTotalMajorUnits(),e),g=this.get("styles").padding,l=g.left,y=g.top,o=t-(l+g.right+2*h),_=e-(y+g.bottom+2*d),u=a.get("maximum"),c=a.get("minimum"),f=i.get("maximum"),x=i.get("minimum"),D=this.get("graphic"),p=i.get("type"),p="numeric"===p||"stacked"===p,m=a.getOrigin(),A=i.getOrigin();D.set("width",t),D.set("height",e),h+=l,d=p?d+_+y+g.bottom:y+d,this._leftOrigin=Math.round(a._getCoordFromValue(c,u,o,m,h,!1)),this._bottomOrigin=Math.round(i._getCoordFromValue(x,f,_,A,d,p)),t=this._getCoords(c,u,o,s,a,h,!1),e=this._getCoords(x,f,_,r,i,d,p),this.set("xcoords",t),this.set("ycoords",e),this._dataLength=n,this._setXMarkerPlane(t,n),this._setYMarkerPlane(e,n)},_getCoords:function(t,e,a,i,s,r,n){var h,d;if(g.isArray(i))h=s._getCoordsFromValues(t,e,a,i,r,n);else for(d in h={},i)i.hasOwnProperty(d)&&(h[d]=this._getCoords.apply(this,[t,e,a,i[d],s,r,n]));return h},_copyData:function(t){var e,a;if(g.isArray(t))e=t.concat();else for(a in e={},t)t.hasOwnProperty(a)&&(e[a]=t[a].concat());return e},_setXMarkerPlane:function(t,e){var a,i=0,s=[],r=this.get("xMarkerPlaneOffset");if(g.isArray(t)){for(i=0;i<e;i+=1)a=t[i],s.push({start:a-r,end:a+r});this.set("xMarkerPlane",s)}},_setYMarkerPlane:function(t,e){var a,i=0,s=[],r=this.get("yMarkerPlaneOffset");if(g.isArray(t)){for(i=0;i<e;i+=1)a=t[i],s.push({start:a-r,end:a+r});this.set("yMarkerPlane",s)}},_getFirstValidIndex:function(t){for(var e,a=-1,i=t.length;!g.isNumber(e)&&a<i;)e=t[a+=1];return a},_getLastValidIndex:function(t){for(var e,a=t.length;!g.isNumber(e)&&-1<a;)e=t[--a];return a},draw:function(){var t=this.get("width"),e=this.get("height");this.get("rendered")&&isFinite(t)&&isFinite(e)&&0<t&&0<e&&(this.get("xData")&&this.get("yData")||this._updateAxisBase())&&(this._drawing?this._callLater=!0:(this._drawing=!0,this._callLater=!1,this.setAreaData(),t=this.get("xcoords"),e=this.get("ycoords"),t&&e&&0<t.length&&this.drawSeries(),this._drawing=!1,this._callLater?this.draw():(this._toggleVisible(this.get("visible")),this.fire("drawingComplete"))))},_defaultPlaneOffset:4,destructor:function(){this.get("rendered")&&(this._xDataReadyHandle&&this._xDataReadyHandle.detach(),this._xDataUpdateHandle&&this._xDataUpdateHandle.detach(),this._yDataReadyHandle&&this._yDataReadyHandle.detach(),this._yDataUpdateHandle&&this._yDataUpdateHandle.detach(),this._xAxisChangeHandle&&this._xAxisChangeHandle.detach(),this._yAxisChangeHandle)&&this._yAxisChangeHandle.detach()}},{ATTRS:{seriesTypeCollection:{},xDisplayName:{getter:function(){return this._xDisplayName||this.get("xKey")},setter:function(t){return this._xDisplayName=t.toString(),t}},yDisplayName:{getter:function(){return this._yDisplayName||this.get("yKey")},setter:function(t){return this._yDisplayName=t.toString(),t}},categoryDisplayName:{lazyAdd:!1,getter:function(){return"vertical"===this.get("direction")?this.get("yDisplayName"):this.get("xDisplayName")},setter:function(t){return"vertical"===this.get("direction")?this._yDisplayName=t:this._xDisplayName=t,t}},valueDisplayName:{lazyAdd:!1,getter:function(){return"vertical"===this.get("direction")?this.get("xDisplayName"):this.get("yDisplayName")},setter:function(t){return"vertical"===this.get("direction")?this._xDisplayName=t:this._yDisplayName=t,t}},type:{value:"cartesian"},order:{},graphOrder:{},xcoords:{},ycoords:{},xAxis:{},yAxis:{},xKey:{setter:function(t){return g.isArray(t)?t:t.toString()}},yKey:{setter:function(t){return g.isArray(t)?t:t.toString()}},
xData:{},yData:{},xMarkerPlane:{},yMarkerPlane:{},xMarkerPlaneOffset:{getter:function(){var t=this.get("styles").marker;return t&&t.width&&isFinite(t.width)?.5*t.width:this._defaultPlaneOffset}},yMarkerPlaneOffset:{getter:function(){var t=this.get("styles").marker;return t&&t.height&&isFinite(t.height)?.5*t.height:this._defaultPlaneOffset}},direction:{value:"horizontal"}}})},"@VERSION@",{requires:["series-base"]});